<configuration xmlns="http://ch.qos.logback/xml/ns/logback"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xsi:schemaLocation="http://ch.qos.logback/xml/ns/logback
               https://raw.githubusercontent.com/enricopulatzo/logback-XSD/master/src/main/xsd/logback.xsd">

    <!--æ­£å¸¸infoæ—¥å¿—(åŒ…æ‹¬traceï¼Œdebugï¼Œinfoå’Œwarnçº§åˆ«çš„æ—¥å¿—)çš„é™„åŠ å™¨-->
    <appender name="NORMAL_ROLL_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <encoder>
            <!--æ–‡ä»¶é‡Œçš„æ—¥å¿—æ ¼å¼-->
            <pattern>%d{MMæœˆddæ—¥HH:mm:ss} ${pid} %-5level ðŸ‘‰ [%10thread] %-80logger::%-5line-> %msg%n</pattern>
        </encoder>
        <!--æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„-->
        <file>_info.log</file>
        <!--æ»šåŠ¨ç­–ç•¥,SizeAndTimeBasedRollingPolicyæ˜¯åŸºäºŽæ–‡ä»¶å¤§å°å’Œæ—¶é—´è¿›è¡Œå½’æ¡£-->
        <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
            <!--å½’æ¡£åŽçš„æ–‡ä»¶çš„è·¯å¾„ï¼Œè·¯å¾„ä¸­çš„æ—¥æœŸè¡¨ç¤ºå½’æ¡£é¢‘çŽ‡ï¼Œå¦‚ä¸‹è¡¨ç¤ºæ¯å¤©å½’æ¡£-->
            <fileNamePattern>./log/%d{yyyy-MM-dd}/%i.log</fileNamePattern>
            <!--æ—¥å¿—æ–‡ä»¶å¤§å°è¶…è¿‡æŒ‡å®šå€¼ï¼Œå°±ä¼šè¿›è¡Œå½’æ¡£-->
            <maxFileSize>10MB</maxFileSize>
            <!--åªä¿ç•™æœ€è¿‘çš„ä¸‰å¤©(å½’æ¡£æ–‡ä»¶è·¯å¾„çš„æ—¥æœŸç±»åž‹)æ—¥å¿—æ–‡ä»¶-->
            <maxHistory>7</maxHistory>
            <!--æ‰€æœ‰æ—¥å¿—æ–‡ä»¶çš„æ€»å¤§å°ï¼Œè¶…è¿‡æŒ‡å®šå€¼åŽä¼šæŠŠæ—§æ–‡ä»¶åˆ é™¤-->
            <totalSizeCap>1GB</totalSizeCap>
            <cleanHistoryOnStart>true</cleanHistoryOnStart>
        </rollingPolicy>
        <!--è¿‡æ»¤å™¨ï¼Œåªè¾“å‡ºæ­£å¸¸æ—¥å¿—(éžsql)-->
        <filter class="org.raindrop.core.log.NormalLogFilter">
        </filter>
        <append>false</append>
    </appender>

    <!--åªæœ‰æ—¥å¿—çº§åˆ«ä¸ºerroræ‰è®°å½•-->
    <appender name="ERROR_ROLL_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <encoder>
            <!--æ–‡ä»¶é‡Œçš„æ—¥å¿—æ ¼å¼-->
            <pattern>%d{MMæœˆddæ—¥HH:mm:ss} ${pid} %-5level ðŸ‘‰ [%10thread] %logger::%-5line-> %msg%n</pattern>
        </encoder>
        <!--æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„-->
        <file>_error.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
            <!--æ¯å¤©è¿›è¡Œå½’æ¡£-->
            <fileNamePattern>./log/%d{yyyy-MM-dd}/error_%i.log</fileNamePattern>
            <!--æ—¥å¿—æ–‡ä»¶å¤§å°è¶…è¿‡æŒ‡å®šå€¼ï¼Œå°±ä¼šè¿›è¡Œå½’æ¡£-->
            <maxFileSize>10MB</maxFileSize>
            <!--åªä¿ç•™æœ€è¿‘çš„ä¸‰å¤©(å½’æ¡£æ–‡ä»¶è·¯å¾„çš„æ—¥æœŸç±»åž‹)æ—¥å¿—æ–‡ä»¶-->
            <maxHistory>30</maxHistory>
            <!--æ‰€æœ‰æ—¥å¿—æ–‡ä»¶çš„æ€»å¤§å°ï¼Œè¶…è¿‡æŒ‡å®šå€¼åŽä¼šæŠŠæ—§æ–‡ä»¶åˆ é™¤-->
            <totalSizeCap>1GB</totalSizeCap>
        </rollingPolicy>
        <!--è¿‡æ»¤å™¨ï¼Œåªæœ‰æ—¥å¿—çº§åˆ«ä¸ºerroræ‰è¾“å‡º-->
        <filter class="ch.qos.logback.classic.filter.LevelFilter">
            <level>error</level>
            <onMatch>ACCEPT</onMatch>
            <onMismatch>DENY</onMismatch>
        </filter>
        <append>false</append>
    </appender>

    <!--åªè®°å½•sqlæ—¥å¿—-->
    <appender name="SQL_ROLL_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <encoder>
            <!--æ–‡ä»¶é‡Œçš„æ—¥å¿—æ ¼å¼-->
            <pattern>%d{MMæœˆddæ—¥HH:mm:ss} ${pid} %-5level ðŸ‘‰ [%10thread] %-80logger::%-5line-> %msg%n</pattern>
        </encoder>
        <!--æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„-->
        <file>_sql.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
            <!--æ¯å¤©è¿›è¡Œå½’æ¡£-->
            <fileNamePattern>./log/%d{yyyy-MM-dd}/sql_%i.log</fileNamePattern>
            <!--æ—¥å¿—æ–‡ä»¶å¤§å°è¶…è¿‡æŒ‡å®šå€¼ï¼Œå°±ä¼šè¿›è¡Œå½’æ¡£-->
            <maxFileSize>10MB</maxFileSize>
            <!--åªä¿ç•™æœ€è¿‘çš„ä¸‰å¤©(å½’æ¡£æ–‡ä»¶è·¯å¾„çš„æ—¥æœŸç±»åž‹)æ—¥å¿—æ–‡ä»¶-->
            <maxHistory>30</maxHistory>
            <!--æ‰€æœ‰æ—¥å¿—æ–‡ä»¶çš„æ€»å¤§å°ï¼Œè¶…è¿‡æŒ‡å®šå€¼åŽä¼šæŠŠæ—§æ–‡ä»¶åˆ é™¤-->
            <totalSizeCap>1GB</totalSizeCap>
        </rollingPolicy>
        <!--è¿‡æ»¤å™¨ï¼Œåªæœ‰ä¸ºsqlæ—¥å¿—æ‰è¾“å‡º-->
        <filter class="org.raindrop.core.log.SqlLogFilter">
        </filter>
        <append>false</append>
    </appender>

    <!--å•ç‹¬è®¾ç½®sqlè®°å½•å™¨çš„å±žæ€§ï¼Œsqlä»¥åŠsqlçš„å­è®°å½•å™¨éƒ½ä½¿ç”¨åä¸ºSQL_ROLL_FILEçš„é™„åŠ å™¨è¿›è¡Œæ—¥å¿—è®°å½•-->
    <logger name="sql" level="INFO" additivity="false">
        <appender-ref ref="SQL_ROLL_FILE" />
    </logger>

    <!--è®¾ç½®æ ¹è®°å½•å™¨çš„å±žæ€§ï¼Œæ ‘æ ¹éƒ¨åˆ†ï¼Œæ‰€æœ‰è®°å½•å™¨çš„å…±åŒç¥–å…ˆï¼Œå­è®°å½•å™¨è®¾ç½®äº†å±žæ€§åˆ™ä½¿ç”¨è‡ªå·±çš„ï¼Œæ²¡æœ‰è®¾ç½®åˆ™ä½¿ç”¨ä»Žä¸Šçº§ç»§æ‰¿è¿‡æ¥çš„-->
    <root level="INFO">
        <!--ç”Ÿäº§çŽ¯å¢ƒï¼Œæ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶-->
        <appender-ref ref="NORMAL_ROLL_FILE" />
        <appender-ref ref="ERROR_ROLL_FILE" />
    </root>
</configuration>